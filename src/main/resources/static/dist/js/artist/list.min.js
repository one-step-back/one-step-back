import{j as a}from"../util/alert.min.js";import{S as s}from"../util/toast.min.js";a(()=>{const i=a("body").data("member-id")?.toString(),l={FOLLOW:"/api/v1/follows/"},n={LOGIN:"/member/login-email"};a(".artist-list__grid").on("click",".artist-card__follow-btn",t=>{t.preventDefault(),t.stopPropagation();const r=a(t.currentTarget),c=r.data("id"),d=r.data("status");if(!i){s.error("로그인이 필요한 서비스입니다."),setTimeout(()=>location.href=n.LOGIN,1e3);return}const o=!d,u=o?"POST":"DELETE";e(r,o),a.ajax({url:l.FOLLOW+c,type:u,success:()=>{a(document).trigger("artist:nav-update")},error:m=>{console.error("Follow request failed:",m),e(r,!o),s.error("요청을 처리할 수 없습니다.")}})});function e(t,r){t.data("status",r),r?(t.addClass("artist-card__follow-btn--active"),t.attr("title","팔로우 취소")):(t.removeClass("artist-card__follow-btn--active"),t.attr("title","팔로우"))}});
