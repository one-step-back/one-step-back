import{j as e}from"../../util/alert.min.js";import{S as c}from"../../util/toast.min.js";function m(){const i=(r,s)=>{if(r.files&&r.files[0]){const t=new FileReader;t.onload=o=>{const a=o.target?.result;s.css("background-image",`url(${a})`)},t.readAsDataURL(r.files[0])}};e("#bg-file").on("change",function(){i(this,e("#bg-preview"))}),e("#profile-file").on("change",function(){i(this,e("#profile-preview"))}),e("#btn-save-artist").on("click",function(r){const s=e(r.currentTarget),t=e("#artist-form")[0],o=new FormData(t),a=s.text();s.prop("disabled",!0).html('<i class="fas fa-spinner fa-spin"></i> 저장 중...'),e.ajax({url:"/api/v1/artists",type:"PUT",data:o,processData:!1,contentType:!1,success:n=>{c.success("채널 정보가 성공적으로 수정되었습니다."),s.prop("disabled",!1).text(a)},error:n=>{console.error(n);const l=n.responseJSON?.error?.message||"수정에 실패했습니다. 입력값을 확인해주세요.";c.error(l),s.prop("disabled",!1).text(a)}})})}export{m as i};
