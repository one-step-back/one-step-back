import{j as t}from"../../util/alert.min.js";t(()=>{const i=t("#subscriber-list-body"),n=t("#subscriber-empty"),e=t("#total-subscriber-count"),c=r=>r?Array.isArray(r)?`${r[0]}.${String(r[1]).padStart(2,"0")}.${String(r[2]).padStart(2,"0")}`:r.split("T")[0].replace(/-/g,"."):"-",l=r=>{if(i.empty(),!r||r.length===0){n.show(),e.length&&e.text("0");return}n.hide(),e.length&&e.text(r.length.toString());let a="";r.forEach(s=>{const o=c(s.startDate),p=s.profilePath||"/images/default-profile.png";a+=`
                <tr>
                    <td>
                        <div class="profile-cell">
                            <img src="${p}" alt="프로필" class="profile-img">
                            <span class="nickname">${s.nickname}</span>
                        </div>
                    </td>
                    <td>
                        <div class="membership-info">
                            <span class="membership-name">${s.membershipName}</span>
                            <span class="tier-badge">Lv.${s.levelOrder}</span>
                        </div>
                    </td>
                    <td>
                        <span class="date-text">${o}</span>
                    </td>
                    <td>
                        <span class="status-badge">구독 중</span>
                    </td>
                </tr>
            `}),i.html(a)};t.ajax({url:"/api/v1/subscription/artist/subscribers",type:"GET",success:r=>{const a=r.data||[];l(a)},error:r=>{console.error("[Error] 구독자 로드 실패:",r),n.show()}})});
