document.addEventListener("DOMContentLoaded",function(){$(".navbar-brand .nav-link:contains('홈')").addClass("active");const a=document.querySelector("body"),m=document.querySelector(".backdrop"),h=document.querySelector(".user-avatar-sm"),w=document.querySelector(".my-menu-profile-avatar"),S=document.querySelector(".user-name"),E=document.querySelector(".user-profile-arrow-down"),l=document.querySelector(".user-wrapper"),y=document.querySelector("#profile-list"),q=document.querySelectorAll(".fa-bookmark"),k=document.querySelectorAll(".fa-ellipsis-h"),d=document.querySelectorAll(".dropdown-menu-right"),s=document.querySelector(".swiper-wrapper"),c=document.querySelectorAll(".swiper-slide"),g=document.querySelectorAll(".swiper-navigator"),n=document.querySelectorAll(".swiper-bullet");function f(){s.style.transition="transform 0.5s",e++,e==5?(n[e-1].classList.remove("active"),s.style.transform="translate(-"+340*(e+1)+"px)",setTimeout(function(){s.style.transition="transform 0s",s.style.transform="translate(-340px)"},500),e=0,n[e].classList.add("active")):(n[e-1].classList.remove("active"),n[e].classList.add("active"),s.style.transform="translate(-"+340*(e+1)+"px)"),i=n[e]}let e=0,i=n[e];const b=c[0].cloneNode(!0),x=c[1].cloneNode(!0),A=c[c.length-1].cloneNode(!0),C=c[c.length-2].cloneNode(!0);s.appendChild(b),s.appendChild(x),s.insertBefore(A,document.querySelectorAll(".swiper-slide")[0]),s.insertBefore(C,document.querySelectorAll(".swiper-slide")[0]),n[e].classList.add("active"),s.style.transform="translate(-340px)";let u=setInterval(f,4e3),p=!0;n.forEach((o,t,r)=>{r[t].addEventListener("click",function(){s.style.transition="transform 0.5s",p&&(p=!1,clearInterval(u),e=t,i.classList.remove("active"),n[e].classList.add("active"),s.style.transform="translate(-"+340*(e+1)+"px)",i=n[e],u=setInterval(f,4e3),setTimeout(function(){p=!0},500))})});let L=!0;g.forEach(o=>{o.addEventListener("click",function(){L&&(L=!1,clearInterval(u),s.style.transition="transform 0.5s",o.classList.contains("fa-chevron-left")?(e--,e==-1?(s.style.transform="translate(0px)",setTimeout(function(){s.style.transition="transform 0s",s.style.transform="translate(-1700px)"},500),e=4):s.style.transform="translate(-"+340*(e+1)+"px)"):(e++,e==5?(s.style.transform="translate(-"+340*(e+1)+"px)",setTimeout(function(){s.style.transition="transform 0s",s.style.transform="translate(-340px)"},500),e=0):s.style.transform="translate(-"+340*(e+1)+"px)"),i.classList.remove("active"),i=n[e],n[e].classList.add("active"),u=setInterval(f,4e3),setTimeout(function(){L=!0},500))})}),h?.addEventListener("click",o=>{a.classList.contains("user-menu-show")||(a.classList.add("user-menu-show"),console.log(a.classList),m.style.display="block")}),m.addEventListener("click",o=>{a.classList.remove("user-menu-show"),console.log(a.classList),m.style.display="none"});function v(){console.log("유저 래퍼 초기값: "+l.classList),l.classList.contains("show")?(l.classList.remove("show"),y.classList.remove("show"),console.log("유저 래퍼 show 지우기: "+l.classList)):(l.classList.add("show"),y.classList.add("show"),console.log("유저 래퍼에 show 추가: "+l.classList))}w?.addEventListener("click",v),S?.addEventListener("click",v),E?.addEventListener("click",v),q.forEach(o=>{o.addEventListener("click",t=>{const r=t.target.parentElement;t.target===o&&r.classList.contains("active")?r.classList.remove("active"):t.target===o&&!r.classList.contains("active")&&r.classList.add("active")})}),a.addEventListener("click",o=>{if(o.target.classList.contains("fa-ellipsis-h")){const t=o.target.parentElement.parentElement;t.classList.contains("show")?(d.forEach(r=>{t.classList.contains("show")&&r.classList.remove("show")}),t.classList.remove("show")):(d.forEach(r=>{r.classList.remove("show"),r.parentElement.classList.remove("show")}),t.classList.add("show"),d.forEach(r=>{r.parentElement===t&&t.classList.contains("show")&&r.classList.add("show")}))}else d.forEach(t=>{t.classList.remove("show")}),k.forEach(t=>{t.parentElement.parentElement.classList.remove("show")})})});
